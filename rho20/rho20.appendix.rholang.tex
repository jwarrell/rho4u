\section{Appendix: rholang specification}
\subsection{Rholang grammar}
\begin{mathpar}
\inferrule* [lab=process] {} {\mathsf{Proc} \bc \mathsf{Proc1} \\
 \;\bm\; \mathsf{Proc} \mathsf{|} \mathsf{Proc1} } \\
\inferrule* [lab=conditional] {} {\mathsf{Proc1} \bc \mathsf{Proc2} \\
 \;\bm\; \texttt{if}\; \texttt{(} \mathsf{Proc} \texttt{)}\; \mathsf{Proc2} \\
 \;\bm\; \texttt{if}\; \texttt{(} \mathsf{Proc} \texttt{)}\; \mathsf{Proc2}\; \texttt{else}\; \mathsf{Proc1} \\
 \;\bm\; \texttt{new}\; \mathsf{[NameDecl]}\; \texttt{in}\; \mathsf{Proc1} \\
 \;\bm\; \mathsf{Name}\; \texttt{!?} \texttt{(} \mathsf{[Proc]} \texttt{)}\; \mathsf{SynchSendCont} }\\
\inferrule* [lab=io] {} {\mathsf{Proc2} \bc \mathsf{Proc3} \\
 \;\bm\; \texttt{contract}\; \mathsf{Name}\; \texttt{(} \mathsf{[Name]}\; \mathsf{NameRemainder} \texttt{)}\; \texttt{=}\; \texttt{\{}\; \mathsf{Proc}\; \texttt{\}} \\
 \;\bm\; \texttt{for}\; \texttt{(} \mathsf{[Receipt]} \texttt{)} \texttt{\{} \;\mathsf{Proc}\; \texttt{\}} \\
 \;\bm\; \texttt{select}\; \texttt{\{} \;\mathsf{[Branch]}\; \texttt{\}} \\
 \;\bm\; \texttt{match}\; \mathsf{Proc4}\; \texttt{\{} \;\mathsf{[Case]}\; \texttt{\}} \\
 \;\bm\; \mathsf{Bundle}\; \texttt{\{} \;\mathsf{Proc}\; \texttt{\}} \\
 \;\bm\; \texttt{let}\; \mathsf{Decl}\; \mathsf{Decls}\; \texttt{in}\; \texttt{\{} \;\mathsf{Proc}\; \texttt{\}} }\\
\inferrule* [lab=output] {} {\mathsf{Proc3} \bc \mathsf{Proc4} \\
 \;\bm\; \mathsf{Name} \;\mathsf{Send}\; \texttt{(} \mathsf{[Proc]} \texttt{)}} \\
\inferrule* [lab=disjunction] {} {\mathsf{Proc4} \bc \mathsf{Proc5} \\
 \;\bm\; \mathsf{Proc4} \;\texttt{or}\; \mathsf{Proc5}} \\
\inferrule* [lab=conjunction] {} {\mathsf{Proc5} \bc \mathsf{Proc6} \\
 \;\bm\; \mathsf{Proc5} \;\texttt{and}\; \mathsf{Proc6}} \\
\inferrule* [lab=matching] {} {\mathsf{Proc6} \bc \mathsf{Proc7} \\
\;\bm\; \mathsf{Proc7} \;\texttt{matches}\; \mathsf{Proc7} \\
 \;\bm\; \mathsf{Proc6} \;\texttt{==}\; \mathsf{Proc7} \\
 \;\bm\; \mathsf{Proc6} \;\texttt{!=}\; \mathsf{Proc7}} \\
\inferrule* [lab=comparison] {} {\mathsf{Proc7} \bc \mathsf{Proc8} \\
 \;\bm\; \mathsf{Proc7} \;\texttt{$<$}\; \mathsf{Proc8} \\
 \;\bm\; \mathsf{Proc7} \;\texttt{$<$=}\; \mathsf{Proc8} \\
 \;\bm\; \mathsf{Proc7} \;\texttt{$>$}\; \mathsf{Proc8} \\
 \;\bm\; \mathsf{Proc7} \;\texttt{$>$=}\; \mathsf{Proc8}} \\
\inferrule* [lab=addition] {} {\mathsf{Proc8} \bc \mathsf{Proc9} \\
 \;\bm\; \mathsf{Proc8} \;\texttt{+}\; \mathsf{Proc9} \\
 \;\bm\; \mathsf{Proc8} \;\texttt{-}\; \mathsf{Proc9} \\
 \;\bm\; \mathsf{Proc8} \;\texttt{++}\; \mathsf{Proc9} \\
 \;\bm\; \mathsf{Proc8} \;\texttt{--}\; \mathsf{Proc9}} \\
\inferrule* [lab=multiplication] {} {\mathsf{Proc9} \bc \mathsf{Proc10} \\
 \;\bm\; \mathsf{Proc9} \;\texttt{*}\; \mathsf{Proc10} \\
 \;\bm\; \mathsf{Proc9} \;\texttt{/}\; \mathsf{Proc10} \\
 \;\bm\; \mathsf{Proc9} \;\texttt{\%}\; \mathsf{Proc10} \\
 \;\bm\; \mathsf{Proc9} \;\texttt{\%\%}\; \mathsf{Proc10}} \\
\inferrule* [lab=negation] {} {\mathsf{Proc10} \bc \mathsf{Proc11} \\
 \;\bm\; \texttt{not}\; \mathsf{Proc10} \\
 \;\bm\; \texttt{-} \mathsf{Proc10}} \\
\inferrule* [lab=nesting] {} {\mathsf{Proc11} \bc \mathsf{Proc12} \\
 \;\bm\; \mathsf{Proc11} \texttt{.} \mathsf{Var} \texttt{(} \mathsf{[Proc]} \texttt{)} \\
 \;\bm\; \texttt{(} \mathsf{Proc4} \texttt{)}} \\
\inferrule* [lab=dereference] {} {\mathsf{Proc12} \bc \mathsf{Proc13} \\
 \;\bm\; \texttt{*} \mathsf{Name}} \\
\inferrule* [lab=match-disjuction] {} {\mathsf{Proc13} \bc \mathsf{Proc14} \\
 \;\bm\; \mathsf{VarRefKind}\; \mathsf{Var} \\
 \;\bm\; \mathsf{Proc13} \;\texttt{$\backslash$/}\; \mathsf{Proc14}} \\
\inferrule* [lab=match-conjunction] {} {\mathsf{Proc14} \bc \mathsf{Proc15} \\
 \;\bm\; \mathsf{Proc14} \;\texttt{/$\backslash$}\; \mathsf{Proc15}} \\
\inferrule* [lab=match-negation] {} {\mathsf{Proc15} \bc \mathsf{Proc16} \\
  \;\bm\; \texttt{\~{}} \mathsf{Proc15}} \\
\end{mathpar}
\begin{mathpar}
\inferrule* [lab=???] {} {\mathsf{Proc16} \bc \texttt{\{} \mathsf{Proc} \texttt{\}} \\
 \;\bm\; \mathsf{Ground} \\
 \;\bm\; \mathsf{Collection} \\
 \;\bm\; \mathsf{ProcVar} \\
 \;\bm\; \texttt{Nil} \\
 \;\bm\; \mathsf{SimpleType}} \\
\inferrule* [lab=???] {} {\mathsf{[Proc]} \bc \textbf{eps} \\
 \;\bm\; \mathsf{Proc} \\
 \;\bm\; \mathsf{Proc} \;\texttt{,}\; \mathsf{[Proc]}} \\
\inferrule* [lab=] {} {\mathsf{Decl} \bc \mathsf{[Name]}\; \mathsf{NameRemainder} \leftarrow \mathsf{[Proc]}} \\
\inferrule* [lab=] {} {\mathsf{LinearDecl} \bc \mathsf{Decl}} \\
\inferrule* [lab=] {} {\mathsf{[LinearDecl]} \bc \mathsf{LinearDecl} \\
 \;\bm\; \mathsf{LinearDecl} \texttt{;} \mathsf{[LinearDecl]}} \\
\inferrule* [lab=] {} {\mathsf{ConcDecl} \bc \mathsf{Decl}} \\
\inferrule* [lab=] {} {\mathsf{[ConcDecl]} \bc \mathsf{ConcDecl} \\
 \;\bm\; \mathsf{ConcDecl} \;\texttt{\&}\; \mathsf{[ConcDecl]}} \\
\inferrule* [lab=] {} {\mathsf{Decls} \bc \textbf{eps} \\
 \;\bm\; \;\texttt{;}\; \mathsf{[LinearDecl]} \\
 \;\bm\; \;\texttt{\&}\; \mathsf{[ConcDecl]}} \\
\inferrule* [lab=] {} {\mathsf{SynchSendCont} \bc \texttt{.} \\
 \;\bm\; \texttt{;} \mathsf{Proc1}} \\
\inferrule* [lab=] {} {\mathsf{ProcVar} \bc \texttt{\_} \\
 \;\bm\; \mathsf{Var}} \\
\inferrule* [lab=] {} {\mathsf{Name} \bc \texttt{\_} \\
 \;\bm\; \mathsf{Var} \\
 \;\bm\; \texttt{@} \mathsf{Proc12}} \\
\inferrule* [lab=] {} {\mathsf{[Name]} \bc \textbf{eps} \\
 \;\bm\; \mathsf{Name} \\
 \;\bm\; \mathsf{Name} \texttt{,} \mathsf{[Name]}} \\
\end{mathpar}
\begin{mathpar}
\inferrule* [lab=] {} {\mathsf{Bundle} \bc \texttt{bundle+} \\
 \;\bm\; \texttt{bundle-} \\
 \;\bm\; \texttt{bundle0} \\
 \;\bm\; \texttt{bundle}} \\
\inferrule* [lab=] {} {\mathsf{Receipt} \bc \mathsf{ReceiptLinearImpl} \\
 \;\bm\; \mathsf{ReceiptRepeatedImpl} \\
 \;\bm\; \mathsf{ReceiptPeekImpl}} \\
\inferrule* [lab=] {} {\mathsf{[Receipt]} \bc \mathsf{Receipt} \\
 \;\bm\; \mathsf{Receipt} \texttt{;} \mathsf{[Receipt]}} \\
\inferrule* [lab=] {} {\mathsf{ReceiptLinearImpl} \bc \mathsf{[LinearBind]}} \\
\inferrule* [lab=] {} {\mathsf{LinearBind} \bc \mathsf{[Name]} \mathsf{NameRemainder} \leftarrow \mathsf{NameSource}} \\
\inferrule* [lab=] {} {\mathsf{[LinearBind]} \bc \mathsf{LinearBind} \\
 \;\bm\; \mathsf{LinearBind} \texttt{\&} \mathsf{[LinearBind]}} \\
\inferrule* [lab=] {} {\mathsf{NameSource} \bc \mathsf{Name} \\
 \;\bm\; \mathsf{Name} \texttt{?!} \\
 \;\bm\; \mathsf{Name} \texttt{!?} \texttt{(} \mathsf{[Proc]} \texttt{)}} \\
\inferrule* [lab=] {} {\mathsf{ReceiptRepeatedImpl} \bc \mathsf{[RepeatedBind]}} \\
\inferrule* [lab=] {} {\mathsf{RepeatedBind} \bc \mathsf{[Name]} \mathsf{NameRemainder} \texttt{$<$=} \mathsf{Name}} \\
\inferrule* [lab=] {} {\mathsf{[RepeatedBind]} \bc \mathsf{RepeatedBind} \\
 \;\bm\; \mathsf{RepeatedBind} \texttt{\&} \mathsf{[RepeatedBind]}} \\
\inferrule* [lab=] {} {\mathsf{ReceiptPeekImpl} \bc \mathsf{[PeekBind]}} \\
\inferrule* [lab=] {} {\mathsf{PeekBind} \bc \mathsf{[Name]} \mathsf{NameRemainder} \texttt{$<$$<$-} \mathsf{Name}} \\
\inferrule* [lab=] {} {\mathsf{[PeekBind]} \bc \mathsf{PeekBind} \\
 \;\bm\; \mathsf{PeekBind} \texttt{\&} \mathsf{[PeekBind]}} \\
\inferrule* [lab=] {} {\mathsf{Send} \bc \texttt{!} \\
 \;\bm\; \texttt{!!}} \\
\inferrule* [lab=] {} {\mathsf{Branch} \bc \mathsf{ReceiptLinearImpl} \texttt{=$>$} \mathsf{Proc3}} \\
\inferrule* [lab=] {} {\mathsf{[Branch]} \bc \mathsf{Branch} \\
 \;\bm\; \mathsf{Branch} \mathsf{[Branch]}} \\
\inferrule* [lab=] {} {\mathsf{Case} \bc \mathsf{Proc13} \texttt{=$>$} \mathsf{Proc3}} \\
\inferrule* [lab=] {} {\mathsf{[Case]} \bc \mathsf{Case} \\
 \;\bm\; \mathsf{Case} \mathsf{[Case]}} \\
\inferrule* [lab=] {} {\mathsf{NameDecl} \bc \mathsf{Var} \\
 \;\bm\; \mathsf{Var} \texttt{(} \mathsf{UriLiteral} \texttt{)}} \\
\inferrule* [lab=] {} {\mathsf{[NameDecl]} \bc \mathsf{NameDecl} \\
 \;\bm\; \mathsf{NameDecl} \texttt{,} \mathsf{[NameDecl]}} \\
\inferrule* [lab=] {} {\mathsf{BoolLiteral} \bc \texttt{true} \\
 \;\bm\; \texttt{false}} \\
\inferrule* [lab=] {} {\mathsf{Ground} \bc \mathsf{BoolLiteral} \\
 \;\bm\; \mathsf{LongLiteral} \\
 \;\bm\; \mathsf{StringLiteral} \\
 \;\bm\; \mathsf{UriLiteral}} \\
\end{mathpar}
\begin{mathpar}
\inferrule* [lab=] {} {\mathsf{Collection} \bc \texttt{[} \mathsf{[Proc]} \mathsf{ProcRemainder} \texttt{]} \\
 \;\bm\; \mathsf{Tuple} \\
 \;\bm\; \texttt{Set} \texttt{(} \mathsf{[Proc]} \mathsf{ProcRemainder} \texttt{)} \\
 \;\bm\; \texttt{\{} \mathsf{[KeyValuePair]} \mathsf{ProcRemainder} \texttt{\}}} \\
\inferrule* [lab=] {} {\mathsf{KeyValuePair} \bc \mathsf{Proc} \texttt{:} \mathsf{Proc}} \\
\inferrule* [lab=] {} {\mathsf{[KeyValuePair]} \bc \textbf{eps} \\
 \;\bm\; \mathsf{KeyValuePair} \\
 \;\bm\; \mathsf{KeyValuePair} \texttt{,} \mathsf{[KeyValuePair]}} \\
\inferrule* [lab=] {} {\mathsf{Tuple} \bc \texttt{(} \mathsf{Proc} \texttt{,)} \\
 \;\bm\; \texttt{(} \mathsf{Proc} \texttt{,} \mathsf{[Proc]} \texttt{)}} \\
\inferrule* [lab=] {} {\mathsf{ProcRemainder} \bc \texttt{...} \mathsf{ProcVar} \\
 \;\bm\; \textbf{eps}} \\
\inferrule* [lab=] {} {\mathsf{NameRemainder} \bc \texttt{...} \texttt{@} \mathsf{ProcVar} \\
 \;\bm\; \textbf{eps}} \\
\inferrule* [lab=] {} {\mathsf{VarRefKind} \bc \texttt{=} \\
 \;\bm\; \texttt{=} \texttt{*}} \\
\inferrule* [lab=] {} {\mathsf{SimpleType} \bc \texttt{Bool} \\
 \;\bm\; \texttt{Int} \\
 \;\bm\; \texttt{String} \\
 \;\bm\; \texttt{Uri} \\
 \;\bm\; \texttt{ByteArray}} \\
\end{mathpar}

\subsection{Rholang operational semantics}
TBD
